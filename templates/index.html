{% extends 'base.html' %}
{% block content %}
<h4><i>Find Recipe</i></h4>
<!-- Materialize autocomplete dropdown -->
<div class="row">
    <div class="col s12">
        <div class="row">
            <div class="input-field col s12">
              <i class="material-icons prefix">textsms</i>
              <input type="text" id="autocomplete-input" class="autocomplete">
              <label for="autocomplete-input">Autocomplete</label>
            </div>
        </div>
    </div>
</div>
<!-- Materialize fab card -->
<div class="row">
    {% for recipe in recipes %}
    <div class="col s12 m4">
        <div class="card medium">
            <div class="card-image">
                <img class="materialboxed" src="{{recipe.image_url}}" alt="recipe_image">
                <span class="card-title">
                    <strong class="blue-grey darken-3">{{recipe.title}}</strong>
                </span>
            </div>
            <div class="card-content">
                <p>{{recipe.description}}</p>
            </div>
            <div class="card-action">
                <a href="{{ url_for('view_recipe', recipe_id=recipe._id) }}"><strong>Recipe</strong></a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Modal Login Structure -->
<div id="modal1" class="modal">
    <div class="modal-content">
        <h4>Login</h4>
        <form action="{{ url_for('login') }}" method="POST">
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">lock_outline</i>
                    <input id="username" type="text">
                    <label for="username">Username</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">lock_outline</i>
                    <input id="password" type="password">
                    <label for="password">Password</label>
                </div>
            </div>
            <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                <i class="material-icons right">send</i>
            </button>
            <a href="#!" class="waves-effect waves-light" onclick="closeModal()">Register</a>
        </form>
    </div>
</div>

<!-- Modal Sign-Up Structure -->
<div id="modal2" class="modal">
    <div class="modal-content">
        <h4>Start creating your recipe now!</h4>
        <form action="{{ url_for('user_signup')}}" method="POST">
            <div class="input-field col s3">
                <i class="material-icons prefix">account_circle</i>
                <input id="username" name="username" type="text" class="validate">
                <label for="username">Username:</label>
            </div>
            <div class="input-field col s3">
                <i class="material-icons prefix">account_circle</i>
                <input id="display_name" name="display_name" type="text" class="validate">
                <label for="display_name">Display name:</label>
            </div>
            <div class="input-field col s3">
                <i class="material-icons prefix">account_circle</i>
                <input id="country" name="country" type="text" class="validate">
                <label for="country">Country:</label>
            </div>
            <div class="input-field col s3">
                <i class="material-icons prefix">account_circle</i>
                <input id="password" name="password" type="password" class="validate">
                <label for="password">Password</label>
            </div>
            <button class="btn waves-effect waves-light" type="submit" name="action">Create Recipe
                <i class="material-icons right">playlist_add</i>
              </button>
        </form>
    </div>
</div>

<script>
        function closeModal(){
          $('#modal1').modal('close');
          $('#modal2').modal('open');
        }
</script>
{% endblock %}